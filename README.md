# Diary MVP - AI-Powered Voice Diary Application

![Tests](https://github.com/pushnanashi2/diary-mvp/workflows/Test%20Suite/badge.svg)
![Coverage](https://img.shields.io/codecov/c/github/pushnanashi2/diary-mvp)
![License](https://img.shields.io/badge/license-MIT-blue.svg)

é«˜åº¦ãªAIæ©Ÿèƒ½ã‚’å‚™ãˆãŸéŸ³å£°æ—¥è¨˜ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹

| Phase | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | ã‚«ãƒãƒ¬ãƒƒã‚¸ | ãƒ†ã‚¹ãƒˆæ•° | å®Œäº†æ—¥ |
|-------|----------|----------|---------|--------|
| Phase 1-3 | âœ… å®Œäº† | - | - | 2026-01-05 |
| Phase 4 | âœ… å®Œäº† | - | 37æ©Ÿèƒ½ | 2026-01-07 |
| Phase 5 | âœ… å®Œäº† | - | ãƒªãƒ•ã‚¡ã‚¯ã‚¿ | 2026-01-07 |
| Phase 6 | âœ… å®Œäº† | 70% | 90 | 2026-01-07 |
| **Phase 7** | **âœ… å®Œäº†** | **92.7%** | **237** | **2026-01-07** |

## ğŸš€ ä¸»è¦æ©Ÿèƒ½

### ã‚³ã‚¢æ©Ÿèƒ½
- ğŸ¤ éŸ³å£°æ—¥è¨˜ã®éŒ²éŸ³ãƒ»æ–‡å­—èµ·ã“ã— (Whisper API)
- ğŸ“ ãƒ†ã‚­ã‚¹ãƒˆæ—¥è¨˜ã®ä½œæˆãƒ»ç·¨é›†
- ğŸ” Bearerèªè¨¼ + 2FA
- ğŸŒ å¤šè¨€èªå¯¾å¿œ (è‹±èªãƒ»æ—¥æœ¬èª)

### AIåˆ†ææ©Ÿèƒ½
- ğŸ˜Š æ„Ÿæƒ…åˆ†æ (11ç¨®é¡ã®æ„Ÿæƒ… + å¼·åº¦)
- ğŸ”‘ ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æŠ½å‡º (é–¢é€£æ€§ã‚¹ã‚³ã‚¢ä»˜ã)
- ğŸ“‹ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¢ã‚¤ãƒ†ãƒ æŠ½å‡º (å„ªå…ˆåº¦ãƒ»æœŸé™)
- ğŸ“Š é€±æ¬¡ãƒ»æœˆæ¬¡ã‚µãƒãƒªãƒ¼ç”Ÿæˆ

### ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- ğŸ‘¥ ãƒãƒ¼ãƒ ç®¡ç† (ãƒ­ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹æ¨©é™)
- ğŸ”— å…±æœ‰ãƒªãƒ³ã‚¯ (æœ‰åŠ¹æœŸé™ãƒ»ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½)
- ğŸ“§ å®šæœŸãƒ¬ãƒãƒ¼ãƒˆ (Email/PDF)

### æ¤œç´¢ãƒ»åˆ†æ
- ğŸ” å…¨æ–‡æ¤œç´¢ + ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯æ¤œç´¢
- ğŸ“ˆ æ„Ÿæƒ…ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ
- ğŸ“‰ ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰é »åº¦åˆ†æ
- ğŸ¯ ç›®æ¨™é”æˆãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°

### ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–æ©Ÿèƒ½
- ğŸ’¬ AIãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆ (ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå¯¾å¿œ)
- ğŸ§‘â€ğŸ« AIã‚³ãƒ¼ãƒãƒ³ã‚° (8ã¤ã®ãƒˆãƒ”ãƒƒã‚¯)
- â° ã‚¹ãƒãƒ¼ãƒˆãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼ (ç¹°ã‚Šè¿”ã—å¯¾å¿œ)
- ğŸ”” ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šçŸ¥ (WebSocket)

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ç›£æŸ»
- ğŸ“œ å®Œå…¨ãªç›£æŸ»ãƒ­ã‚°
- ğŸ”’ E2Eæš—å·åŒ–å¯¾å¿œ
- ğŸ›¡ï¸ ãƒ¬ãƒ¼ãƒˆåˆ¶é™
- ğŸ” ULID ãƒ™ãƒ¼ã‚¹å…¬é–‹ID

## ğŸ“Š ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ (Phase 7)

### ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚µãƒãƒªãƒ¼
- **ç·åˆã‚«ãƒãƒ¬ãƒƒã‚¸**: 92.7%
- **ç·ãƒ†ã‚¹ãƒˆæ•°**: 237
- **å®Ÿè¡Œæ™‚é–“**: 12åˆ†45ç§’

### è©³ç´°å†…è¨³

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | ã‚«ãƒãƒ¬ãƒƒã‚¸ | ãƒ†ã‚¹ãƒˆæ•° | ä¸»è¦ãƒ†ã‚¹ãƒˆ |
|---------|----------|---------|----------|
| **APIå±¤** | 93.2% | 133 | Auth, Entries, Summaries, Search, Teams, Reports, Coaching, Chat, Reminders, Audit |
| **Workerå±¤** | 92.2% | 49 | Emotion, Keywords, Speech, Actions |
| **Utils** | 92.7% | 55 | Validators, Logger, ErrorHandler, EdgeCases, Performance |

### ãƒ†ã‚¹ãƒˆç¨®åˆ¥
- âœ… ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: 70
- âœ… çµ±åˆãƒ†ã‚¹ãƒˆ: 110
- âœ… E2Eãƒ†ã‚¹ãƒˆ: 35
- âœ… ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹: 15
- âœ… ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹: 7

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **API**: Node.js + Express.js
- **Worker**: Python 3.11
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: PostgreSQL 15
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥**: Redis 7

### AI/ML
- **OpenAI GPT-4**: æ„Ÿæƒ…åˆ†æã€è¦ç´„ã€ãƒãƒ£ãƒƒãƒˆ
- **Whisper API**: éŸ³å£°æ–‡å­—èµ·ã“ã—
- **Embeddings**: ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯æ¤œç´¢

### ã‚¤ãƒ³ãƒ•ãƒ©
- **ã‚³ãƒ³ãƒ†ãƒŠ**: Docker + Docker Compose
- **CI/CD**: GitHub Actions
- **ãƒ†ã‚¹ãƒˆ**: Jest (API) + Pytest (Worker)
- **ã‚«ãƒãƒ¬ãƒƒã‚¸**: Codecov

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å¿…è¦è¦ä»¶
- Docker & Docker Compose
- Node.js 18+ (é–‹ç™ºæ™‚)
- Python 3.11+ (é–‹ç™ºæ™‚)

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/pushnanashi2/diary-mvp.git
cd diary-mvp

# ç’°å¢ƒå¤‰æ•°è¨­å®š
cp .env.example .env
# .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã€OPENAI_API_KEYãªã©ã‚’è¨­å®š

# Docker Composeã§èµ·å‹•
docker-compose up --build

# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
docker-compose exec api npm run migrate
```

### é–‹ç™ºç’°å¢ƒ

```bash
# APIé–‹ç™º
cd api
npm install
npm run dev

# Workeré–‹ç™º
cd worker
pip install -r requirements.txt
python main.py
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

### ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```bash
# APIãƒ†ã‚¹ãƒˆ
npm test
npm run test:coverage

# Workerãƒ†ã‚¹ãƒˆ
cd worker
pytest
pytest --cov=app --cov-report=html
```

### ã‚«ãƒ†ã‚´ãƒªåˆ¥å®Ÿè¡Œ

```bash
# ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
npm run test:unit

# çµ±åˆãƒ†ã‚¹ãƒˆ
npm run test:integration

# E2Eãƒ†ã‚¹ãƒˆ
npm run test:e2e

# ã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰
npm run test:watch
```

### CI/CD

```bash
# GitHub Actions ã§è‡ªå‹•å®Ÿè¡Œ
# - push/PRæ™‚ã«å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
# - ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆè‡ªå‹•ç”Ÿæˆ
# - Codecovã¸ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
```

## ğŸ“– API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### èªè¨¼
```http
POST /api/auth/signup
POST /api/auth/login
POST /api/auth/2fa/setup
POST /api/auth/2fa/verify
GET  /api/auth/me
```

### ã‚¨ãƒ³ãƒˆãƒªãƒ¼
```http
GET    /api/entries
POST   /api/entries
GET    /api/entries/:id
PUT    /api/entries/:id
DELETE /api/entries/:id
POST   /api/entries/:id/audio
```

### åˆ†æ
```http
GET /api/analytics/emotions/trend
GET /api/analytics/keywords/frequency
GET /api/analytics/summary
GET /api/action-items
POST /api/action-items/:id/complete
```

### AIæ©Ÿèƒ½
```http
POST /api/chat/conversations
POST /api/chat/conversations/:id/messages
POST /api/coaching/sessions
POST /api/coaching/sessions/:id/messages
```

### æ¤œç´¢
```http
GET /api/search/fulltext?q=query
GET /api/search/semantic?q=query
GET /api/search/advanced
```

è©³ç´°ã¯ [API Documentation](docs/API.md) ã‚’å‚ç…§

## ğŸ“‚ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
diary-mvp/
â”œâ”€â”€ api/                    # Node.js API ã‚µãƒ¼ãƒãƒ¼
â”‚   â”œâ”€â”€ config/            # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ middleware/        # ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
â”‚   â”œâ”€â”€ routes/            # APIãƒ«ãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ services/          # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”œâ”€â”€ queries/           # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ã‚¨ãƒª
â”‚   â””â”€â”€ utils/             # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”œâ”€â”€ worker/                 # Python Worker
â”‚   â”œâ”€â”€ app/               # Workerãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ base_processor.py
â”‚   â”‚   â”œâ”€â”€ emotion_analyzer.py
â”‚   â”‚   â”œâ”€â”€ keyword_extractor.py
â”‚   â”‚   â”œâ”€â”€ speech_processor.py
â”‚   â”‚   â””â”€â”€ action_extractor.py
â”‚   â””â”€â”€ tests/             # Workerãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ db/
â”‚   â””â”€â”€ migrations/        # DBãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ tests/                  # APIãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ unit/
â”‚   â”‚   â”œâ”€â”€ integration/
â”‚   â”‚   â””â”€â”€ e2e/
â”‚   â””â”€â”€ setup.js
â”œâ”€â”€ docs/                   # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ PHASE4_COMPLETE.md
â”‚   â”œâ”€â”€ PHASE5_REFACTORING.md
â”‚   â”œâ”€â”€ PHASE6_TESTING_COMPLETE.md
â”‚   â”œâ”€â”€ PHASE7_100_COVERAGE.md
â”‚   â””â”€â”€ TESTING_GUIDE.md
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/         # GitHub Actions
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### å®Ÿè£…æ¸ˆã¿
- âœ… Bearer Token èªè¨¼
- âœ… 2è¦ç´ èªè¨¼ (TOTP)
- âœ… bcrypt ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥
- âœ… ULID ãƒ™ãƒ¼ã‚¹å…¬é–‹ID
- âœ… ãƒ¬ãƒ¼ãƒˆåˆ¶é™
- âœ… CORSè¨­å®š
- âœ… Helmet.js ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼
- âœ… SQL ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³é˜²æ­¢
- âœ… XSS é˜²æ­¢
- âœ… ç›£æŸ»ãƒ­ã‚°

### ä»Šå¾Œã®å®Ÿè£…
- â¬œ E2Eæš—å·åŒ– (è¨ˆç”»æ¸ˆã¿)
- â¬œ OAuth2å¯¾å¿œ
- â¬œ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³çµ±åˆ

## ğŸ“ˆ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

### æœ€é©åŒ–
- Redis ã‚­ãƒ£ãƒƒã‚·ãƒ¥ (5åˆ†TTL)
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãƒ—ãƒ¼ãƒ« (max: 10)
- ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æœ€é©åŒ–
- Workerä¸¦åˆ—å‡¦ç†

### ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯
- ã‚¨ãƒ³ãƒˆãƒªãƒ¼å–å¾—: < 500ms
- æ¤œç´¢: < 2s
- AIåˆ†æ: < 5s
- éŸ³å£°æ–‡å­—èµ·ã“ã—: ~10s (1åˆ†éŸ³å£°)

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

### ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„
- ESLint (API)
- Black + Flake8 (Worker)
- 92%+ ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ç¶­æŒ

## ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License - è©³ç´°ã¯ [LICENSE](LICENSE) ã‚’å‚ç…§

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

- ğŸ“§ Email: support@diary-mvp.com
- ğŸ“š Documentation: [docs/](docs/)
- ğŸ› Issues: [GitHub Issues](https://github.com/pushnanashi2/diary-mvp/issues)

## ğŸ‰ è¬è¾

- OpenAI (GPT-4, Whisper API)
- PostgreSQL ãƒãƒ¼ãƒ 
- Redis ãƒãƒ¼ãƒ 
- ã™ã¹ã¦ã®ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚¿ãƒ¼

---

**é–‹ç™ºè€…**: PushNaNaShi  
**æœ€çµ‚æ›´æ–°**: 2026-01-07  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 2.0.0  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤æº–å‚™å®Œäº† ğŸš€
